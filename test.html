<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ŸÇŸäŸÖŸä - ÿ™ŸÖÿ±ŸäŸÜ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± (5 ÿ¥ŸÇŸàŸÇ)</title>
    <link href="https://fonts.googleapis.com/css2?family=Markazi+Text:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- Temel Sayfa Stilleri --- */
        :root {
            --accent-color: #007bff;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --bg-light: #f8f9fa;
            --font-arabic: 'Markazi Text', 'Tahoma', 'Arial', sans-serif;
        }

        body {
            font-family: var(--font-arabic);
            background-color: #e9ecef;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            font-weight: 400;
        }

        /* --- Ana Etkinlik Alanƒ± (16:9 ve 9:16) --- */
        .activity-container {
            position: relative;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            width: 90vw;
            height: calc(90vw * 9 / 16); /* 16:9 */
            max-height: 90vh;
            max-width: calc(90vh * 16 / 9); /* 16:9 */
        }
        
        /* --- Geri Tu≈üu --- */
        .back-button-container {
            grid-area: back;
            display: flex;
            justify-content: flex-end;
        }
        .back-button {
            background: #f0f0f0;
            color: #555;
            border: 1px solid #ccc;
            border-radius: 1.5vmin;
            cursor: pointer;
            width: clamp(40px, 8vmin, 55px);
            height: clamp(40px, 8vmin, 55px);
            padding: 0;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .back-button:hover {
            background: #e0e0e0;
        }
        .back-button svg {
            width: clamp(24px, 5vmin, 30px);
            height: clamp(24px, 5vmin, 30px);
            fill: currentColor;
        }

        /* --- Ba≈ülƒ±k ve ƒ∞lerleme √áubuƒüu --- */
        .header {
            padding: 15px 25px;
            border-bottom: 1px solid #dee2e6;
            display: grid;
            grid-template-areas: "progress instruction back";
            grid-template-columns: 200px 1fr 200px;
            align-items: center;
            gap: 20px;
        }
        
        #instruction-text { 
            grid-area: instruction;
            text-align: center; 
            font-size: 2.2rem;
            font-weight: 700;
            color: #555;
        }
        
        .progress-container { 
            grid-area: progress;
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: flex-start;
            width: 200px;
            direction: ltr;
        }
        #progress-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
            flex-shrink: 0;
        }
        .progress-bar-container {
            flex-grow: 1;
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }
        #progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--accent-color);
            transition: width 0.4s ease, background-color 0.4s ease;
        }

        /* --- Asƒ±l Etkinlik Alanƒ± --- */
        .activity-area {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow-y: auto;
        }
        
        /* --- Soru Tipi: Test (Quiz) --- */
        .quiz-container {
            width: 100%;
        }
        .question {
            font-size: 4.2rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 30px;
            color: #212529;
            line-height: 1.5;
        }
        .options {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px; 
        }
        .option {
            width: 500px;
            max-width: 100%;
            box-sizing: border-box;
            padding: 8px 5px;
            font-size: 2.8rem;
            font-family: var(--font-arabic);
            background-color: var(--bg-light);
            border: 2px solid #ced4da;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        .option:hover {
            border-color: var(--accent-color);
            background-color: #eef5ff;
        }

        /* --- Geri Bildirim Ekranƒ± (‚úî / ‚ùå) --- */
        .feedback-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 15rem;
            z-index: 200;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .feedback-overlay.show {
            visibility: visible;
            opacity: 1;
        }
        .feedback-overlay .correct { color: var(--success-color); }
        .feedback-overlay .incorrect { color: var(--danger-color); }
        
        /* --- Biti≈ü Ekranƒ± --- */
        #finish-screen {
            text-align: center;
            font-weight: 700;
            color: var(--accent-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
        #finish-screen p {
            font-size: 3.5rem;
            margin: 10px 0;
        }
        
        .score-display {
            display: flex;
            gap: 30px;
            font-size: 2.8rem;
            margin: 20px 0;
            direction: ltr;
        }
        .score-item {
            font-weight: 700;
        }
        .score-correct {
            color: var(--success-color);
        }
        .score-incorrect {
            color: var(--danger-color);
        }

        #replay-button {
            font-size: 4.5rem;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        #replay-button:hover {
            transform: rotate(-90deg);
            background-color: #f0f0f0;
        }

        /* --- Mobil D√ºzen --- */
        @media (orientation: portrait) {
            .activity-container {
                width: 95vw;
                height: calc(95vw * 16 / 9); /* 9:16 */
                max-height: 95vh;
                max-width: calc(95vh * 9 / 16); /* 9:16 */
            }

            .header {
                grid-template-areas: 
                    "progress back"
                    "instruction instruction";
                grid-template-columns: 1fr 1fr; 
                gap: 10px;
                padding: 10px 15px;
            }

            .progress-container {
                width: auto;
                justify-content: flex-start;
            }
            
            .back-button-container {
                justify-content: flex-end;
            }
            
            #instruction-text {
                font-size: 1.4rem;
                min-width: unset;
                justify-self: center;
            }

            #progress-display {
                font-size: 1.2rem;
            }

            .options {
                gap: 5px;
            }
            .option {
                font-size: 1.5rem;
                padding: 8px;
            }
            .question {
                font-size: 2rem;
                margin-bottom: 15px;
            }
        }
/* --- YENƒ∞ EKLENEN CSS: TAM EKRAN --- */
#fullscreen-btn {
    background: #f0f0f0;
    color: #555;
    border: 1px solid #ccc;
    border-radius: 1.5vmin;
    cursor: pointer;
    width: clamp(40px, 8vmin, 55px);
    height: clamp(40px, 8vmin, 55px);
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 10px; /* RTL olduƒüu i√ßin sol tarafa bo≈üluk veriyoruz */
    flex-shrink: 0;
    transition: background 0.2s;
}
#fullscreen-btn:hover {
    background: #e0e0e0;
}
#fullscreen-btn svg {
    width: clamp(24px, 5vmin, 30px);
    height: clamp(24px, 5vmin, 30px);
    fill: currentColor;
}

/* ƒ∞konlarƒ± Gizle/G√∂ster Mantƒ±ƒüƒ± */
#fullscreen-btn .icon-open { display: block; }
#fullscreen-btn .icon-close { display: none; }
body.fullscreen #fullscreen-btn .icon-open { display: none; }
body.fullscreen #fullscreen-btn .icon-close { display: block; }

/* Tam Ekran Olduƒüunda Konteynƒ±r Ayarlarƒ± */
body.fullscreen .activity-container {
    width: 100vw;
    height: 100vh;
    max-height: 100vh;
    max-width: 100vw;
    border-radius: 0;
    box-shadow: none;
}

/* Tam ekranda mobil ayarƒ± */
@media (orientation: portrait) {
    body.fullscreen .activity-container {
        width: 100vw;
        height: 100vh;
        max-height: 100vh;
        max-width: 100vw;
    }
}
    </style>
</head>
<body>

    <div class="activity-container">
        <div class="header">
            <div class="progress-container">
                <div id="progress-display">........</div> 
                <div class="progress-bar-container">
                    <div id="progress-bar"></div>
                </div>
            </div>
            <div id="instruction-text">........</div>
     <div class="back-button-container">
    
    <button id="fullscreen-btn">
        <svg class="icon-open" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M5 10h2V7h3V5H5v5zM14 5v2h3v3h2V5h-5zM5 19v-5h2v3h3v2H5zM14 19v-2h3v-3h2v5h-5z"/>
        </svg>
        <svg class="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>
        </svg>
    </button>
    <a href="index.html" class="back-button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
    </a>
</div>
</div> <div class="activity-area" id="activity-area"></div>

    <div id="feedback-overlay" class="feedback-overlay">
        <div id="feedback-icon"></div>
    </div>
    <script>
        // --- ETKƒ∞NLƒ∞K VERƒ∞LERƒ∞ (10. SINIF - 1. √úNƒ∞TE: DEƒûERLERƒ∞M) ---
        const activitiesData = [
            /* Index 0: √únite 1 (20 Soru) */
            {
                title: "√únite 1: Akrabalar ve ƒ∞yi Davranƒ±≈ülar",
                quiz: [
                    /* 1 */ { q: "ÿ£ŸéŸäŸíŸÜ ŸäŸéÿπŸíŸÖŸéŸÑŸè ÿßŸÑÿπÿßŸÖŸêŸÑÿü", o: ["ŸäŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸéÿµŸíŸÜŸéÿπ.", "ŸäŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©.", "ŸäŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸèÿ≥Ÿíÿ™Ÿéÿ¥ŸíŸÅŸâ.", "ŸáŸèŸà ŸÑÿß ŸäŸéÿπŸíŸÖŸéŸÑŸè.", "ÿ£ŸéŸÜÿß ÿ∑Ÿéÿ®Ÿäÿ®."], a: 0 },
                    /* 2 */ { q: "ÿ£ŸéŸäŸíŸÜ ÿ™ŸéÿπŸíŸÖŸéŸÑŸè ÿßŸÑŸÖŸèŸÖŸéÿ±ŸëŸêÿ∂Ÿéÿ©ÿü", o: ["ÿ™ŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸèÿ≥Ÿíÿ™Ÿéÿ¥ŸíŸÅŸâ.", "ÿ™ŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸéÿµŸíŸÜŸéÿπ.", "ÿ™ŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑÿ≠ŸéŸÇŸíŸÑ.", "ŸáŸêŸä ÿ±Ÿéÿ®ŸëŸéÿ© ÿ®ŸéŸäŸíÿ™.", "ÿ£ŸéŸÜÿß ŸÖŸèŸáŸéŸÜŸíÿØŸêÿ≥."], a: 0 },
                    /* 3 */ { q: "ŸáŸéŸÑ ŸäŸéÿπŸíŸÖŸéŸÑŸè ÿßŸÑŸÖŸèÿ™ŸéŸÇÿßÿπŸêÿØÿßŸÜÿü", o: ["ŸÑÿßÿå ÿßŸÑŸÖŸèÿ™ŸéŸÇÿßÿπŸêÿØÿßŸÜ ŸÑÿß ŸäŸéÿπŸíŸÖŸéŸÑÿßŸÜ.", "ŸÑÿßÿå ŸáŸèŸÖÿß ŸäŸéÿπŸíŸÖŸéŸÑÿßŸÜ.", "ŸáŸèŸà ŸäŸéÿπŸíŸÖŸéŸÑŸè.", "ŸÜŸéÿ≠ŸíŸÜŸè ŸÜŸéÿπŸíŸÖŸéŸÑŸè.", "ÿ£ŸéŸÜŸíÿ™ŸèŸÖÿß ÿ™ŸéÿπŸíŸÖŸéŸÑÿßŸÜ."], a: 0 },
                    /* 4 */ { q: "ÿßŸÑÿ≥Ÿëÿßÿ¶ŸêŸÇ ........ .", o: ["ŸäŸéÿ≥ŸàŸÇŸè ÿ≥ŸéŸäŸëÿßÿ±Ÿéÿ©", "ŸäŸèÿØŸéÿ±ŸëŸêÿ≥Ÿè ÿßŸÑÿØŸëŸèÿ±Ÿàÿ≥", "ŸäŸéŸÅŸíÿ≠ŸéÿµŸè ÿßŸÑŸÖŸéÿ±Ÿíÿ∂Ÿâ", "ŸäŸéÿ®ŸíŸÜŸä ÿßŸÑÿ®ŸèŸäŸàÿ™", "ŸäŸéŸÉŸíÿ™Ÿèÿ®Ÿè ÿßŸÑŸàÿßÿ¨Ÿêÿ®"], a: 0 },
                    /* 5 */ { q: "ŸÖÿßÿ∞ÿß ŸäŸéŸÅŸíÿπŸéŸÑŸè ÿßŸÑŸÖŸèÿØŸéÿ±ŸëŸêÿ≥ÿü", o: ["ŸäŸèÿØŸéÿ±ŸëŸêÿ≥Ÿè ÿßŸÑÿØŸëŸèÿ±Ÿàÿ≥.", "ŸäŸéÿ≥ŸàŸÇŸè ÿ≥ŸéŸäŸëÿßÿ±Ÿéÿ©.", "ŸäŸèÿπÿßŸÑŸêÿ¨Ÿè ÿßŸÑŸÖŸéÿ±Ÿíÿ∂Ÿâ.", "ŸäŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸéÿµŸíŸÜŸéÿπ.", "ŸáŸèŸà ÿ¥Ÿèÿ±Ÿíÿ∑ŸêŸäŸë."], a: 0 },
                    /* 6 */ { q: "ÿ£ŸèŸÖŸëŸä ÿ™ŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑÿ®ŸéŸäŸíÿ™ÿå ŸáŸêŸä ........ .", o: ["ÿ±Ÿéÿ®ŸëŸéÿ© ÿ®ŸéŸäŸíÿ™", "ÿ∑Ÿéÿ®Ÿäÿ®Ÿéÿ©", "ŸÖŸèŸáŸéŸÜŸíÿØŸêÿ≥Ÿéÿ©", "ŸÖŸèÿØŸäÿ±Ÿéÿ©", "ÿ¥Ÿèÿ±Ÿíÿ∑ŸêŸäŸëŸéÿ©"], a: 0 },
                    /* 7 */ { q: "........ ŸÖŸèŸáŸéŸÜŸíÿØŸêÿ≥ÿßŸÜ.", o: ["ŸáŸéÿ∞ÿßŸÜŸê", "ŸáŸéÿ∞ÿß", "ŸáŸéÿ∞ŸêŸáŸê", "ŸáŸéÿ§ŸèŸÑÿßÿ°Ÿê", "ÿ™ŸêŸÑŸíŸÉ"], a: 0 },
                    /* 8 */ { q: "........ ŸÖŸèÿπŸéŸÑŸëŸêŸÖŸàŸÜ.", o: ["ŸáŸéÿ§ŸèŸÑÿßÿ°Ÿê", "ŸáŸéÿ∞ÿßŸÜŸê", "ŸáŸéÿ∞ÿß", "ŸáŸéÿ∞ŸêŸáŸê", "ÿ£ŸéŸÜŸíÿ™Ÿé"], a: 0 },
                    /* 9 */ { q: "ÿ£ŸéÿÆŸà ÿßŸÑÿ£Ÿéÿ® ŸáŸèŸà ........ .", o: ["ÿßŸÑÿπŸéŸÖŸë", "ÿßŸÑÿÆÿßŸÑ", "ÿßŸÑÿ¨ŸéÿØŸë", "ÿßŸÑÿ£ŸéÿÆ", "ÿßŸÑÿßŸêÿ®ŸíŸÜ"], a: 0 },
                    /* 10 */ { q: "ŸáŸéŸÑ ÿßŸÑÿ¥ŸëŸèÿ±Ÿíÿ∑ŸêŸäŸë ŸäŸèÿØŸéÿ±ŸêŸëÿ≥ ÿßŸÑÿØŸëŸèÿ±Ÿàÿ≥ÿü", o: ["ŸÑÿßÿå ÿßŸÑÿ¥ŸëŸèÿ±Ÿíÿ∑ŸêŸäŸë ŸÑÿß ŸäŸèÿØŸéÿ±ŸêŸëÿ≥.", "ŸÜŸéÿπŸéŸÖÿå ŸáŸèŸà ŸäŸèÿØŸéÿ±ŸêŸëÿ≥.", "ŸáŸèŸà ŸäŸéÿπŸíŸÖŸéŸÑŸè ŸÅŸä ÿßŸÑŸÖŸéÿØŸíÿ±Ÿéÿ≥Ÿéÿ©.", "ÿ£ŸéŸÜÿß ŸÖŸèÿØŸéÿ±ŸëŸêÿ≥.", "ŸÜŸéÿ≠ŸíŸÜŸè ÿ∑ŸèŸÑŸëÿßÿ®."], a: 0 },
                    /* 11 */ { q: "ÿßŸÑŸÖŸèÿ≥ŸíŸÑŸêŸÖŸàŸÜŸé ŸäŸèÿ≥ÿßÿπŸêÿØŸàŸÜŸé ........ .", o: ["ÿ¨Ÿäÿ±ÿßŸÜŸéŸáŸèŸÖ", "ÿ£ŸéŸÜŸíŸÅŸèÿ≥ŸéŸáŸèŸÖ", "ÿ®ŸèŸäŸàÿ™ŸéŸáŸèŸÖ", "ÿ£ŸéŸÖŸíŸàÿßŸÑŸéŸáŸèŸÖ", "ÿ≥ŸéŸäŸëÿßÿ±ÿßÿ™ŸêŸáŸêŸÖ"], a: 0 },
                    /* 12 */ { q: "ÿßŸÑŸÖŸèÿ≥ŸíŸÑŸêŸÖŸè ........ ÿßŸÑÿ∂ŸëŸéŸäŸíŸÅ.", o: ["ŸäŸèŸÉŸíÿ±ŸêŸÖŸè", "ŸäŸéÿ∑Ÿíÿ±ŸèÿØŸè", "ŸÑÿß ŸäŸèÿ≠Ÿêÿ®ŸëŸè", "ŸÑÿß ŸäŸéÿπŸíÿ±ŸêŸÅŸè", "ŸäŸéÿ∂Ÿíÿ±Ÿêÿ®Ÿè"], a: 0 },
                    /* 13 */ { q: "ŸÜŸéÿ≠ŸíŸÜŸè ŸÜŸéÿ≠Ÿíÿ™Ÿéÿ±ŸêŸÖŸè ........ .", o: ["ÿßŸÑŸÉŸêÿ®ÿßÿ±", "ÿßŸÑÿµŸëŸêÿ∫ÿßÿ±", "ÿßŸÑÿ£Ÿéÿ∑Ÿêÿ®Ÿëÿßÿ°", "ÿßŸÑŸÖŸèŸáŸéŸÜŸíÿØŸêÿ≥ŸäŸÜ", "ÿßŸÑÿ£Ÿéÿ∫ŸíŸÜŸêŸäÿßÿ°"], a: 0 },
                    /* 14 */ { q: "ŸÜŸéÿ≠ŸíŸÜŸè ŸÜŸéÿ±Ÿíÿ≠ŸéŸÖŸè ........ .", o: ["ÿßŸÑÿµŸëŸêÿ∫ÿßÿ±", "ÿßŸÑŸÉŸêÿ®ÿßÿ±", "ÿßŸÑÿ∂ŸëŸèŸäŸàŸÅ", "ÿßŸÑÿ¨Ÿäÿ±ÿßŸÜ", "ÿßŸÑÿ£ŸéŸÇÿßÿ±Ÿêÿ®"], a: 0 },
                    /* 15 */ { q: "ŸäŸéÿ¨Ÿêÿ®Ÿè ÿ£ŸéŸÜŸí ŸÜŸèÿ≥ÿßÿπŸêÿØŸé ........ .", o: ["ÿßŸÑŸÖŸèÿ≠Ÿíÿ™ÿßÿ¨", "ÿßŸÑÿ∫ŸéŸÜŸêŸäŸë", "ÿßŸÑŸÉŸéÿ∞Ÿëÿßÿ®", "ÿßŸÑŸÉŸéÿ≥ŸàŸÑ", "ÿßŸÑŸÜŸëÿßÿ¶ŸêŸÖ"], a: 0 },
                    /* 16 */ { q: "ŸäŸéÿ¨Ÿêÿ®Ÿè ÿ£ŸéŸÜŸí ŸäŸéŸÉŸàŸÜŸé ÿßŸÑŸÖŸèÿ≥ŸíŸÑŸêŸÖ ........ .", o: ["ÿµŸéÿ®Ÿàÿ±Ÿãÿß", "ÿ∫Ÿéÿ∂Ÿíÿ®ÿßŸÜ", "ÿ≠Ÿéÿ≤ŸäŸÜŸãÿß", "ŸÉŸéÿ≥ŸàŸÑŸãÿß", "ÿπŸéÿ®Ÿàÿ≥Ÿãÿß"], a: 0 },
                    /* 17 */ { q: "ÿßŸÑŸÖŸèÿ≥ŸíŸÑŸêŸÖŸè ŸÑŸéŸäŸíÿ≥Ÿé ŸÉÿßÿ∞Ÿêÿ®Ÿãÿßÿå ŸáŸèŸàŸé ........ .", o: ["ÿµÿßÿØŸêŸÇ", "ÿ∫Ÿéÿ∂Ÿíÿ®ÿßŸÜ", "ŸÖŸéÿ±Ÿäÿ∂", "ÿ®ŸéÿπŸäÿØ", "ÿµŸéÿ∫Ÿäÿ±"], a: 0 },
                    /* 18 */ { q: "ÿ£ŸéŸÜÿß ŸÑŸéÿ≥Ÿíÿ™Ÿè ÿπŸéÿ®Ÿàÿ≥Ÿãÿßÿå ÿ£ŸéŸÜÿß ........ .", o: ["ŸÖŸèÿ®Ÿíÿ™Ÿéÿ≥ŸêŸÖ", "ÿ≠Ÿéÿ≤ŸäŸÜ", "ÿ∫Ÿéÿ∂Ÿíÿ®ÿßŸÜ", "ŸÖŸéÿ±Ÿäÿ∂", "ÿÆÿßÿ¶ŸêŸÅ"], a: 0 },
                    /* 19 */ { q: "ÿßŸÑÿ∑ŸëÿßŸÑŸêÿ®Ÿè ÿßŸÑŸÜŸëÿßÿ¨Ÿêÿ≠ ........ .", o: ["ŸÖŸèÿ¨Ÿíÿ™ŸéŸáŸêÿØ", "ŸÉŸéÿ≥ŸàŸÑ", "ŸÜÿßÿ¶ŸêŸÖ", "ŸÖŸèÿ™ŸéŸÇÿßÿπŸêÿØ", "ŸÖŸéÿ±Ÿäÿ∂"], a: 0 },
                    /* 20 */ { q: "ÿßŸÑŸÖŸèÿ≥ŸíŸÑŸêŸÖŸè ........ ÿ£ŸéŸÇÿßÿ±Ÿêÿ®ŸéŸáŸè.", o: ["Ÿäÿ≤Ÿàÿ±Ÿè", "ŸäŸéŸÜŸíÿ≥Ÿâ", "ŸäŸéÿ™Ÿíÿ±ŸèŸÉŸè", "ŸÑÿß ŸäŸéÿπŸíÿ±ŸêŸÅŸè", "ŸäŸéŸÉŸíÿ±ŸéŸáŸè"], a: 0 }
                ]
            },
            
            /* Index 1: Placeholder */
            {
                title: "√únite 2",
                quiz: []
            }
        ];


        // --- Gerekli Elementler ---
        const activityArea = document.getElementById('activity-area');
        const instructionText = document.getElementById('instruction-text');
        const progressDisplay = document.getElementById('progress-display');
        const progressBar = document.getElementById('progress-bar');
        const feedbackOverlay = document.getElementById('feedback-overlay');
        const feedbackIcon = document.getElementById('feedback-icon');
        
        // --- Ses Deƒüi≈ükenleri ---
        let audioCtx = null;
        
        // --- Durum Deƒüi≈ükenleri ---
        let activityQueue = [];
        let currentActivityIndex = 0;
        let grandTotalActivities = 0;
        
        let scoreCorrect = 0;
        let scoreIncorrect = 0;
        let allRounds = []; 
        let currentRoundIndex = 0; 

        // --- SES FONKSƒ∞YONLARI ---
        function initAudioContext() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }
        
        function playSound(type) {
            if (!audioCtx) return;
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.type = 'sine';
            const now = audioCtx.currentTime;
            if (type === 'touch') {
                oscillator.frequency.setValueAtTime(200, now);
                gainNode.gain.setValueAtTime(0.1, now);
                gainNode.gain.exponentialRampToValueAtTime(0.0001, now + 0.1);
                oscillator.start(now);
                oscillator.stop(now + 0.1);
            } else if (type === 'correct') {
                oscillator.frequency.setValueAtTime(440, now);
                oscillator.frequency.linearRampToValueAtTime(880, now + 0.2);
                gainNode.gain.setValueAtTime(0.15, now);
                gainNode.gain.exponentialRampToValueAtTime(0.0001, now + 0.2);
                oscillator.start(now);
                oscillator.stop(now + 0.2);
            } else if (type === 'incorrect') {
                oscillator.frequency.setValueAtTime(300, now);
                oscillator.frequency.linearRampToValueAtTime(150, now + 0.3);
                gainNode.gain.setValueAtTime(0.15, now);
                gainNode.gain.exponentialRampToValueAtTime(0.0001, now + 0.3);
                oscillator.start(now);
                oscillator.stop(now + 0.3);
            }
        }
        
        document.body.addEventListener('click', initAudioContext, { once: true });
        
        // --- Fisher-Yates Karƒ±≈ütƒ±rma Fonksiyonu ---
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // --- Raundlarƒ± Hazƒ±rla ---
        function prepareRounds() {
            // Hata d√ºzeltildi: Veriler Index 0'da toplu halde duruyor.
            // 20 soruyu ikiye b√∂l√ºyoruz (10 + 10)
            const allQuestions = activitiesData[0].quiz;

            // 1. Raund: ƒ∞lk 10 soru
            const round1 = allQuestions.slice(0, 10);
            
            // 2. Raund: Sonraki 10 soru (veya kalanƒ±)
            const round2 = allQuestions.slice(10);

            // Raundlarƒ± ana dizide sakla
            allRounds = [round1, round2];
            currentRoundIndex = 0;
        }

        // --- Mevcut Raundu Y√ºkle ---
        function loadCurrentRound() {
            // Mevcut raundun sorularƒ±nƒ± al
            if (currentRoundIndex >= allRounds.length) return;

            const currentRoundQuestions = allRounds[currentRoundIndex];

            // Sorularƒ± karƒ±≈ütƒ±r ve global kuyruƒüa ata
            activityQueue = shuffle([...currentRoundQuestions]); 

            // Bu raunddaki toplam soru sayƒ±sƒ±nƒ± ayarla
            grandTotalActivities = activityQueue.length;

            // Bu raund i√ßin soru sayacƒ±nƒ± sƒ±fƒ±rla
            currentActivityIndex = 0;
        }

        // --- ETKƒ∞NLƒ∞K Y√úKLEYƒ∞Cƒ∞ ---
        function loadActivity() {
            activityArea.innerHTML = '';
            updateProgress();
            
            const activityData = activityQueue[currentActivityIndex]; 

            // Raund numarasƒ±nƒ± ba≈ülƒ±ƒüa ekle
            instructionText.textContent = " ÿßŸêÿÆŸíÿ™Ÿéÿ± ÿßŸÑÿ¨ŸéŸàÿßÿ® ÿßŸÑÿµŸéŸëÿ≠Ÿäÿ≠‚Ä´.";
            buildQuiz(activityData);
        }

        // --- Test Aray√ºz√ºn√º Olu≈ütur ---
        function buildQuiz(data) {
            const quizContainer = document.createElement('div');
            quizContainer.className = 'quiz-container';

            const question = document.createElement('div');
            question.className = 'question';
            question.textContent = data.q;
            quizContainer.appendChild(question);

            const optionsContainer = document.createElement('div');
            optionsContainer.className = 'options';
            
            const optionsToShuffle = data.o.map((optionText, index) => {
                return {
                    text: optionText,
                    isCorrect: (index === data.a)
                };
            });
            const shuffledOptions = shuffle(optionsToShuffle);
            
            shuffledOptions.forEach(option => {
                const optionButton = document.createElement('button');
                optionButton.className = 'option';
                optionButton.textContent = option.text;
                optionButton.onclick = () => {
                    playSound('touch');
                    checkQuizAnswer(option.isCorrect); 
                };
                optionsContainer.appendChild(optionButton);
            });
            quizContainer.appendChild(optionsContainer);
            activityArea.appendChild(quizContainer);
        }

        // --- Test Cevap Kontrol√º ---
        function checkQuizAnswer(isCorrect) {
            showFeedback(isCorrect);
            if (isCorrect) {
                scoreCorrect++;
                setTimeout(nextActivity, 1200);
            } else {
                scoreIncorrect++;
            }
        }

        // --- Geri Bildirim (‚úî / ‚ùå) ---
        function showFeedback(isCorrect) {
            if (isCorrect) {
                feedbackIcon.textContent = '‚úî';
                feedbackIcon.className = 'correct';
                playSound('correct');
            } else {
                feedbackIcon.textContent = '‚ùå';
                feedbackIcon.className = 'incorrect';
                playSound('incorrect');
            }
            feedbackOverlay.classList.add('show');
            if (!isCorrect) {
                setTimeout(() => {
                    feedbackOverlay.classList.remove('show');
                }, 1200);
            }
        }

        // --- Sonraki Etkinliƒüe Ge√ßi≈ü (Raund Kontroll√º) ---
        function nextActivity() {
            feedbackOverlay.classList.remove('show');
            currentActivityIndex++; 

            if (currentActivityIndex === grandTotalActivities) {
                // ---- RAUND Bƒ∞TTƒ∞ ----
                currentRoundIndex++; // Bir sonraki raunda ge√ß
                
                if (currentRoundIndex < allRounds.length) {
                    // ---- Bƒ∞R SONRAKƒ∞ RAUND VAR ----
                    loadCurrentRound(); // Yeni raundun sorularƒ±nƒ± hazƒ±rla
                    
                    // Raund bittiƒüinde ilerleme √ßubuƒüunu sƒ±fƒ±rla
                    progressBar.style.width = '0%'; 
                    
                    loadActivity();     // Yeni raundun ilk sorusunu y√ºkle
                } else {
                    // ---- T√úM RAUNDLAR Bƒ∞TTƒ∞ ----
                    showFinishScreen();
                }
            } else {
                // ---- RAUND DEVAM EDƒ∞YOR ----
                loadActivity();
            }
        }

        // --- Biti≈ü Ekranƒ± ---
        function showFinishScreen() {
            activityArea.innerHTML = `
                <div id="finish-screen">
                    <p>ÿ£Ÿéÿ≠Ÿíÿ≥ŸéŸÜŸíÿ™! ŸÑŸéŸÇŸéÿØ ÿ£ŸéŸÉŸíŸÖŸéŸÑŸíÿ™Ÿé ÿ¨ŸéŸÖŸäÿπ ÿßŸÑÿ£ŸéŸÜŸíÿ¥Ÿêÿ∑Ÿéÿ©‚Ä´.‚Ä¨</p>
                    
                    <div class="score-display">
                        <span class="score-item score-correct">‚úî ${scoreCorrect}</span>
                        <span class="score-item score-incorrect">‚ùå ${scoreIncorrect}</span>
                    </div>

                    <button id="replay-button" onclick="restartGame()">üîÑ</button>
                </div>
            `;
            instructionText.textContent = "ÿßŸêŸÜŸíÿ™ŸéŸáŸéÿ™ ÿßŸÑÿ£ŸéŸÜŸíÿ¥Ÿêÿ∑Ÿéÿ©";
            progressDisplay.textContent = "ÿßŸêŸÉŸíÿ™ŸéŸÖŸéŸÑ";
            progressBar.style.width = '100%';
            progressBar.style.backgroundColor = 'var(--success-color)';
        }
        
        // --- Oyunu Yeniden Ba≈ülat Fonksiyonu ---
        function restartGame() {
            playSound('touch');
            scoreCorrect = 0;
            scoreIncorrect = 0;
            
            // Oyunu 0. raunda geri ayarla
            currentRoundIndex = 0; 
            
            progressBar.style.width = '0%';
            progressBar.style.backgroundColor = 'var(--accent-color)';
            
            loadCurrentRound(); // 0. Raundu y√ºkle
            loadActivity();     // ƒ∞lk soruyu g√∂ster
        }

        // --- ƒ∞lerleme G√ºncelleme ---
        function updateProgress() {
            if (grandTotalActivities === 0) {
                 progressDisplay.textContent = `0 / 0`;
                return;
            }
            
            if (currentActivityIndex === grandTotalActivities) return;
            const currentTotal = currentActivityIndex + 1;
            const percentage = (currentActivityIndex / grandTotalActivities) * 100;
            
            progressDisplay.textContent = `${currentTotal} / ${grandTotalActivities}`;
            progressBar.style.width = `${percentage}%`;
        }
        
        // --- Ba≈ülangƒ±√ß ---
        document.addEventListener('DOMContentLoaded', () => {
            // Veri d√ºzeltmeleri (varsa)
            if(activitiesData && activitiesData.length > 0) {
                activitiesData.forEach(round => {
                    if(round.quiz) {
                        round.quiz.forEach(q => {
                            q.o = q.o.map(opt => opt.replace('tEktUb', 'ÿ™ŸéŸÉŸíÿ™Ÿèÿ®Ÿè')
                                                    .replace('tEkOni', 'ÿ™ŸéŸÉŸèŸàŸÜŸê')
                                                    .replace('yEzhEbu', 'ŸäŸéÿ∞ŸíŸáŸéÿ®Ÿè')
                                                    .replace('tEzhEbAn', 'ÿ™Ÿéÿ∞ŸíŸáŸéÿ®ŸéÿßŸÜ')
                                                    .replace('ElmustE≈üfA', 'ÿßŸÑŸÖŸèÿ≥Ÿíÿ™Ÿéÿ¥ŸíŸÅŸéŸâ')
                                                    .replace('m√ºderrisan', 'ŸÖŸèÿØŸéÿ±ŸëŸêÿ≥ÿßŸÜ')
                                                    );
                        });
                    }
                });
            }
            
            prepareRounds();    // Raundlarƒ± (10+10) grupla
            loadCurrentRound(); // ƒ∞lk raundu (0) y√ºkle
            loadActivity();     // ƒ∞lk raundun ilk sorusunu y√ºkle
        });
// --- YENƒ∞ EKLENEN JS: TAM EKRAN MANTIƒûI ---
const fullscreenBtn = document.getElementById('fullscreen-btn');

fullscreenBtn.addEventListener('click', () => {
    if (!document.fullscreenElement) {
        // Tam ekrana ge√ß
        document.documentElement.requestFullscreen().catch(err => {
            console.log(`Hata: ${err.message}`);
        });
    } else {
        // Tam ekrandan √ßƒ±k
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
    }
});

// Tarayƒ±cƒ± tam ekran durumunu dinle (ESC tu≈üuyla √ßƒ±kƒ±lƒ±rsa ikonu d√ºzeltmek i√ßin)
document.addEventListener('fullscreenchange', () => {
    if (document.fullscreenElement) {
        document.body.classList.add('fullscreen');
    } else {
        document.body.classList.remove('fullscreen');
    }
});
    </script>
</body>
</html>